<!DOCTYPE html>
<html>

<head>

    <div th:replace="/include/header :: header"></div>
    <title>Renseignement Notes</title>
    <meta charset="UTF-8" />
    <link type="text/css" rel="stylesheet" th:href="@{/css/noteGradeManagement.css}" media="screen,projection" />

</head>

<body>
    <header>
        <div th:replace="/include/nav :: nav"></div>
    </header>

    <div th:replace="/include/preloader :: preloader"></div>
    <main id="content">
        <div class="container">
            <h3 class="header center teal-text text-lighten-2">Renseignement des notes</h3>
            <div class="row">
                <div id="tabClasse" class="col s12">
                    <div th:if="${save}" class="row">
                        <div class="col s4 m4 l4 offset-l4 offset-m4 offset-s4 ">
                            <div class="card-panel teal">
                                <p id="saveMsg" class="white-text">Votre saisie de note a été sauvegardé avec succès.</p>
                            </div>
                        </div>
                    </div>
                    <form th:action="@{/enseignant/noteGradeManagement.html}" th:object="${markManagementForm}" method="post">
                        <table class="bordered striped highlight centered responsive-table">
                            <thead>
                                <tr>
                                    <th>Nom</th>
                                    <th>Prénom</th>
                                    <th>Note Continue</th>
                                    <th>Note Partiel</th>
                                </tr>
                            </thead>

                            <tbody>
                                <tr th:each="markDto, stat : *{listMarkDto}">

                                    <input th:field="*{listMarkDto[__${stat.index}__].mail}" type="hidden" />
                                    <input th:field="*{listMarkDto[__${stat.index}__].lastName}" type="hidden" />
                                    <input th:field="*{listMarkDto[__${stat.index}__].firstName}" type="hidden" />
                                    <input th:field="*{listMarkDto[__${stat.index}__].idSubject}" type="hidden" />
                                    <input th:field="*{listMarkDto[__${stat.index}__].idMarkCc}" type="hidden" />
                                    <input th:field="*{listMarkDto[__${stat.index}__].idMarkExam}" type="hidden" />

                                    <td th:text="${markDto.lastName}">ONYME</td>
                                    <td th:text="${markDto.firstName}">Anne</td>
                                    <td><input th:field="*{listMarkDto[__${stat.index}__].markCc}" th:value="${markDto.markCc}" type="number" step="0.01" min="0" max="20" required="required" /></td>
                                    <td><input th:field="*{listMarkDto[__${stat.index}__].markExam}" th:value="${markDto.markExam}" type="number" step="0.01" min="0" max="20" required="required" />
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <br />
                        <div class="row right">
                            <a th:href="@{/enseignant/homePageTeacher.html}" class="waves-effect waves-light btn-flat">Retour</a>
                            <button id="saveButton" class="waves-effect waves-light btn #81d4fa light-blue lighten-2" name="save" value="save" type="submit">Enregistrer</button>
                            <button id="publishButton" class="waves-effect waves-light btn" name="publish" value="publish" type="submit">Publier</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </main>

    <div th:replace="/include/script :: script"></div>
    <div th:replace="/include/preloader-script :: preloader-script"></div>

	<div th:if="${update}">
		<script type="text/javascript" th:src="@{/js/lib/sweetalert.min.js}">
		$(function() {	
			$( document ).ready(function() {
				swal("Mis à Jour", "Vos notes ont été enregistrées", "success");
				});
			});
		</script>
	</div>

    <footer>
        <div th:replace="/include/footer :: footer"></div>
    </footer>

</body>

</html>